@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base */
:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
}
.safe-p {
  padding: var(--safe-top) var(--safe-right) var(--safe-bottom) var(--safe-left);
}
.scroll-mt-header {
  scroll-margin-top: 5rem;
}
html { color-scheme: dark light; hanging-punctuation: first last; }
body {
  background: radial-gradient(1200px 800px at 20% -10%, rgba(42,59,144,.20), transparent 60%),
              linear-gradient(180deg, var(--bg), var(--bg));
  color: var(--text);
  font-family: var(--font-sans);
  font-size: var(--fs-1);
  line-height: var(--lh-normal);
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  line-height: var(--lh-tight);
  font-weight: 750;
  letter-spacing: -0.01em;
}
h1 { font-size: clamp(2rem, 4vw, var(--fs-5)); }
h2 { font-size: clamp(1.5rem, 3vw, var(--fs-4)); }
h3 { font-size: clamp(1.25rem, 2.2vw, var(--fs-3)); }
p  { margin-block: var(--space-3); color: var(--text); }
.small   { font-size: var(--fs-0); color: var(--muted); }
.muted   { color: var(--muted); }

/* Links */
a { transition: color var(--dur-2) var(--ease-std), opacity var(--dur-2) var(--ease-std); color: var(--link); }
a:hover { opacity: .9; }

/* Buttons */
.button, button, [role="button"] {
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  padding: .625rem 1rem; border-radius: var(--radius-sm);
  border: var(--border-1); background: var(--surface); color: var(--text);
  box-shadow: var(--shadow-1); transition: transform var(--dur-1) var(--ease-std), background var(--dur-2) var(--ease-std);
}
.button:hover { transform: translateY(-1px); background: color-mix(in oklab, var(--surface), white 3%); }
.button--primary { background: var(--brand-500); border-color: transparent; color: #fff; }
.button--danger  { background: var(--error); border-color: transparent; color: #fff; }
.compact-email-button {
  width: 3rem;
  height: 3rem;
  padding: 0;
  border-radius: 999px;
  overflow: hidden;
  gap: var(--space-2);
}

/* Forms */
label { display: inline-block; font-size: var(--fs-0); color: var(--muted); margin-bottom: .25rem; }
input, select, textarea {
  width: 100%; padding: .625rem .75rem; border-radius: var(--radius-sm); border: var(--border-1);
  background: var(--bg-elev); color: var(--text); outline: none;
}
input::placeholder, textarea::placeholder { color: color-mix(in oklab, var(--muted), white 20%); }
input:focus, select:focus, textarea:focus { border-color: color-mix(in oklab, var(--brand-500), white 20%); box-shadow: 0 0 0 4px color-mix(in oklab, var(--brand-500), transparent 82%); }
input[aria-invalid="true"], textarea[aria-invalid="true"] { border-color: var(--error); }
.error-text { color: var(--error); font-size: var(--fs-0); }

/* Cards / surfaces */
.card {
  background: var(--surface);
  border: var(--border-1);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-1);
  padding: var(--space-5);
}

/* Grid helpers */
.grid { display: grid; gap: var(--space-5); }
.grid--2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid--3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
@container (min-width: 700px) { /* if you opt into container queries */ }

/* Spacing utilities */
.mt-4{margin-top:var(--space-4)} .mb-4{margin-bottom:var(--space-4)}
.pt-5{padding-top:var(--space-5)} .pb-5{padding-bottom:var(--space-5)}
.px-4{padding-inline:var(--space-4)} .py-4{padding-block:var(--space-4)}

/* A11y helpers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}

/* Tables */
table { width:100%; border-collapse: collapse; font-size: var(--fs-0); }
th, td { padding: .75rem 1rem; border-bottom: 1px solid var(--border); text-align: left; }
thead th { color: var(--muted); font-weight: 600; }

/* Code & prose */
code, pre { font-family: var(--font-mono); background: var(--bg-elev); border-radius: var(--radius-xs); }
code { padding: .125rem .375rem; border: var(--border-1); }
pre  { padding: var(--space-4); overflow:auto; }

/* Focus visibility (accessible, always visible via keyboard) */
:focus-visible {
  outline: 3px solid color-mix(in oklab, var(--brand-500), white 10%);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Reduced motion safety */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0ms !important; animation-iteration-count: 1 !important; transition-duration: 0ms !important; scroll-behavior: auto !important; }
}

/* Scrollbar (WebKit) */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb { background: color-mix(in oklab, var(--border), white 8%); border-radius: 999px; }
*::-webkit-scrollbar-track { background: transparent; }

/* Text selection */
::selection { background: color-mix(in oklab, var(--brand-500), white 20%); color: #fff; }

/* Images */
img { border-radius: var(--radius-xs); }

/* Dialog / overlay layering suggestion */
.modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: var(--z-modal); }
.modal { position: fixed; inset: auto auto 5% 50%; transform: translateX(-50%); z-index: var(--z-modal); }

/* Print basics */
@media print {
  body { background: #fff; color: #000; }
  a { text-decoration: underline; color: #000; }
  .no-print { display: none !important; }
}

/* Mobile-first breakpoints */
@media (min-width: 480px) { :root { --container: 640px; } }
@media (min-width: 768px) { :root { --container: 720px; } }
@media (min-width: 1024px){ :root { --container: 960px; } }
@media (min-width: 1280px){ :root { --container: 1140px; } }

.glass{
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--brand-500), transparent 92%),
    color-mix(in oklab, var(--brand-500), transparent 98%)
  );
  border: 1px solid color-mix(in oklab, var(--brand-500), transparent 90%);
  backdrop-filter: blur(12px);
  position: relative;
  overflow: hidden;
}

.glass::before{
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(at 20% 20%, color-mix(in oklab, white, transparent 75%), transparent 60%),
    linear-gradient(120deg, color-mix(in oklab, white, transparent 80%) 0%, transparent 60%);
  mix-blend-mode: screen;
  opacity: .5;
  pointer-events: none;
}
